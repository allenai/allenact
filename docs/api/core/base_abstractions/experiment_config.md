# core.base_abstractions.experiment_config [[source]](https://github.com/allenai/allenact/tree/master/core/base_abstractions/experiment_config.py)
Defines the `ExperimentConfig` abstract class used as the basis of all
experiments.
## ExperimentConfig
```python
ExperimentConfig(self, /, *args, **kwargs)
```
Abstract class used to define experiments.

Instead of using yaml or text files, experiments in our framework
are defined as a class. In particular, to define an experiment one
must define a new class inheriting from this class which implements
all of the below methods. The below methods will then be called when
running the experiment.

### create_model
```python
ExperimentConfig.create_model(**kwargs) -> torch.nn.modules.module.Module
```
Create the neural model.
### machine_params
```python
ExperimentConfig.machine_params(mode='train', **kwargs) -> Dict[str, Any]
```
Parameters used to specify machine information.

Machine information includes at least (1) the number of processes
to train with and (2) the gpu devices indices to use.

mode : Whether or not the machine parameters should be those for
    "train", "valid", or "test".
kwargs : Extra kwargs.

__Returns__


`A dictionary of the form `{"nprocesses"`: ..., "gpu_ids": ..., ...}`.
Here `nprocesses` must be a non-negative integer, `gpu_ids` must
be a sequence of non-negative integers (if empty, then everything
will be run on the cpu).

### make_sampler_fn
```python
ExperimentConfig.make_sampler_fn(
    kwargs,
) -> core.base_abstractions.task.TaskSampler
```
Create the TaskSampler given keyword arguments.

These `kwargs` will be generated by one of
`ExperimentConfig.train_task_sampler_args`,
`ExperimentConfig.valid_task_sampler_args`, or
`ExperimentConfig.test_task_sampler_args` depending on whether
the user has chosen to train, validate, or test.

### tag
```python
ExperimentConfig.tag() -> str
```
A string describing the experiment.
### test_task_sampler_args
```python
ExperimentConfig.test_task_sampler_args(
    self,
    process_ind: int,
    total_processes: int,
    devices: Optional[List[int]] = None,
    seeds: Optional[List[int]] = None,
    deterministic_cudnn: bool = False,
) -> Dict[str, Any]
```
Specifies the test parameters for the `process_ind`th test process.

See `ExperimentConfig.train_task_sampler_args` for parameter
definitions.

### train_task_sampler_args
```python
ExperimentConfig.train_task_sampler_args(
    self,
    process_ind: int,
    total_processes: int,
    devices: Optional[List[int]] = None,
    seeds: Optional[List[int]] = None,
    deterministic_cudnn: bool = False,
) -> Dict[str, Any]
```
Specifies the training parameters for the `process_ind`th training
process.

These parameters are meant be passed as keyword arguments to `ExperimentConfig.make_sampler_fn`
to generate a task sampler.

__Parameters__


- __process_ind __: The unique index of the training process (`0 â‰¤ process_ind < total_processes`).
- __total_processes __: The total number of training processes.
- __devices __: Gpu devices (if any) to use.
- __seeds __: The seeds to use, if any.
- __deterministic_cudnn __: Whether or not to use deterministic cudnn.

__Returns__


The parameters for `make_sampler_fn`

### training_pipeline
```python
ExperimentConfig.training_pipeline(
    kwargs,
) -> utils.experiment_utils.TrainingPipeline
```
Creates the training pipeline.

__Parameters__


- __kwargs __: Extra kwargs. Currently unused.

__Returns__


An instantiate `TrainingPipeline` object.

### valid_task_sampler_args
```python
ExperimentConfig.valid_task_sampler_args(
    self,
    process_ind: int,
    total_processes: int,
    devices: Optional[List[int]] = None,
    seeds: Optional[List[int]] = None,
    deterministic_cudnn: bool = False,
) -> Dict[str, Any]
```
Specifies the validation parameters for the `process_ind`th
validation process.

See `ExperimentConfig.train_task_sampler_args` for parameter
definitions.

## FrozenClassVariables
```python
FrozenClassVariables(self, /, *args, **kwargs)
```
Metaclass for ExperimentConfig.

Ensures ExperimentConfig class-level attributes cannot be modified.
ExperimentConfig attributes can still be modified at the object level.

